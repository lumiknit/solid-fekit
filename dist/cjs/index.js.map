{"version":3,"file":"index.js","sources":["../../src/block/Button.tsx","../../src/block/DropdownButton.tsx","../../src/block/InputGroup.tsx","../../src/block/InputText.tsx","../../src/block/Checkbox.tsx","../../src/block/InputFile.tsx","../../src/block/InputLabel.tsx","../../src/block/RadioButtons.tsx","../../src/block/Spinner.tsx","../../src/common/async.ts","../../src/common/clipboard.ts","../../src/common/color.ts","../../src/common/random.ts","../../src/common/string.ts","../../src/modal/state.ts","../../src/modal/ModalContainer.tsx"],"sourcesContent":["import { Component, JSX, JSXElement, Ref } from 'solid-js';\n\ntype ComponentType = {\n  ref?: Ref<HTMLButtonElement>;\n  children: JSXElement;\n  class?: string;\n  color?: string;\n  outline?: boolean;\n  small?: boolean;\n  disabled?: boolean;\n};\nexport type Props = ComponentType & JSX.IntrinsicElements['button'];\n\nconst Button: Component<Props> = (props) => {\n  const elemProps = () => {\n    const p: JSX.IntrinsicElements['button'] = { ...props };\n    for (const key of [\n      'ref',\n      'children',\n      'class',\n      'color',\n      'outline',\n      'small',\n      'disabled',\n    ]) {\n      delete (p as any)[key];\n    }\n    return p;\n  };\n  return (\n    <button\n      {...elemProps()}\n      ref={props.ref}\n      class={`no-user-select btn btn-${props.outline ? 'ol-' : ''}${\n        props.color || 'secondary'\n      } ${props.small ? 'btn-sm' : ''} ${props.class ?? ''}`}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import { Component, JSXElement, createSignal } from 'solid-js';\n\nimport Button, { Props as ButtonProps } from './Button';\n\ntype Props<LabelProps> = {\n  label: Component<LabelProps>;\n  labelProps: LabelProps;\n  children: JSXElement | JSXElement[];\n} & ButtonProps;\n\nfunction DropdownButton<L>(props: Props<L>) {\n  const [visible, setVisible] = createSignal(false);\n  const buttonProps = (): ButtonProps => {\n    const p: any = { ...props };\n    delete p.label;\n    delete p.children;\n    return p;\n  };\n  return (\n    <div class=\"dropdown\">\n      <Button {...buttonProps()} onClick={() => setVisible((v) => !v)}>\n        {props.label(props.labelProps)}\n      </Button>\n      <div\n        class={`dropdown-menu shadow-2 ${visible() ? 'visible' : 'hidden'}`}\n        onClick={() => {\n          setVisible(false);\n        }}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n}\n\nexport default DropdownButton;\n","import { Component, JSX, JSXElement } from 'solid-js';\n\ntype Props = {\n  children: JSXElement;\n\n  onClick?: JSX.EventHandlerUnion<HTMLDivElement, MouseEvent>;\n  onDrop?: JSX.EventHandlerUnion<HTMLDivElement, DragEvent>;\n\n  class?: string;\n};\n\nconst InputGroup: Component<Props> = (props) => {\n  return (\n    <div\n      class={`input-group ${props.class ?? ''}`}\n      onClick={props.onClick}\n      onDrop={props.onDrop}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nexport default InputGroup;\n","import { Component, Ref, type JSX } from 'solid-js';\n\ntype Props = {\n  class?: string;\n  ref?: Ref<HTMLInputElement>;\n} & JSX.IntrinsicElements['input'];\n\nconst InputText: Component<Props> = (props) => {\n  return (\n    <input\n      ref={props.ref}\n      type=\"text\"\n      class={`form-control ${props.class ?? ''}`}\n      placeholder={props.placeholder}\n    />\n  );\n};\n\nexport default InputText;\n","import { Component, JSX, Ref, Show, createSignal } from 'solid-js';\n\ntype Props = {\n  ref?: Ref<HTMLInputElement>;\n  children?: JSX.Element;\n  color?: string;\n  value?: boolean;\n  onChange?: (value: boolean) => void;\n};\n\nconst Checkbox: Component<Props> = (props) => {\n  const [checked, setChecked] = createSignal(props.value);\n  const handleChange = (e: Event) => {\n    const target = e.target as HTMLInputElement;\n    console.log(target.checked);\n    setChecked(target.checked);\n    props.onChange?.(target.checked);\n  };\n  return (\n    <label class=\"checkbox\">\n      <div class=\"wh-1 checkbox-box no-user-select cursor-pointer\">\n        <Show when={checked()}>\n          <svg\n            class={`stroke-${props.color || 'primary'}`}\n            stroke-width={0.15}\n            viewBox=\"0 0 1 1\"\n          >\n            // Check shape\n            <path\n              d=\"\n\t\t\t\t\t\t\tM 0.2 0.5\n\t\t\t\t\t\t\tL 0.45 0.75\n\t\t\t\t\t\t\tL 0.9 0.25\n\t\t\t\t\t\t\"\n            />\n          </svg>\n        </Show>\n      </div>\n      <input\n        type=\"checkbox\"\n        name=\"checkbox\"\n        checked={props.value}\n        ref={props.ref}\n        onChange={handleChange}\n      />\n      {props.children}\n    </label>\n  );\n};\n\nexport default Checkbox;\n","import { Component, JSX, Ref } from 'solid-js';\nimport Button from './Button';\nimport InputGroup from './InputGroup';\nimport InputText from './InputText';\n\ntype Props = {\n  class?: string;\n  ref?: Ref<HTMLInputElement>;\n  placeholder?: string;\n  color: string;\n\n  onFiles?: (files: FileList) => void;\n};\n\nconst InputFile: Component<Props> = (props) => {\n  let textRef;\n  let fileRef: HTMLInputElement | undefined;\n  const hackRef = (ref: HTMLInputElement) => {\n    fileRef = ref;\n    if (typeof props.ref === 'function') props.ref(ref);\n  };\n  const handleChange: JSX.ChangeEventHandler<HTMLInputElement, Event> = (e) => {\n    if (props.onFiles) props.onFiles(e.target.files!);\n    textRef!.value = fileRef!.value;\n  };\n  const handleDrop: JSX.EventHandlerUnion<HTMLDivElement, DragEvent> = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (props.onFiles) props.onFiles(e.dataTransfer!.files);\n  };\n  return (\n    <InputGroup class={props.class} onDrop={handleDrop}>\n      <InputText\n        class={`flex-1`}\n        ref={textRef}\n        placeholder={props.placeholder}\n        onClick={() => {\n          fileRef?.click();\n        }}\n      />\n      <input ref={hackRef} type=\"file\" class=\"d-none\" onChange={handleChange} />\n      <Button\n        color={props.color}\n        onClick={() => {\n          fileRef?.click();\n        }}\n      >\n        ...\n      </Button>\n    </InputGroup>\n  );\n};\n\nexport default InputFile;\n","import { Component, JSXElement } from 'solid-js';\n\nexport type Props = {\n  children: JSXElement;\n  class?: string;\n  color: string;\n  outline?: boolean;\n};\n\nconst InputLabel: Component<Props> = (props) => {\n  return (\n    <div\n      class={`form-control btn-${props.outline ? 'ol-' : ''}${\n        props.color\n      } ${props.class ?? ''}`}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nexport default InputLabel;\n","import { For, createSignal } from 'solid-js';\nimport InputGroup from './InputGroup';\nimport Button from './Button';\n\nexport type RadioButton<T> = {\n  color: string;\n  label: string;\n  value: T;\n  class?: string;\n};\n\ntype Props<T> = {\n  class?: string;\n  initialValue: T;\n  buttons: RadioButton<T>[];\n  onChange?: (value: T) => void;\n};\n\nfunction RadioButtons<T>(props: Props<T>) {\n  // Find the button with the initial value\n  const index = props.buttons.findIndex(\n    (btn) => btn.value === props.initialValue\n  );\n  const [selected, setSelected] = createSignal<number>(index);\n  const handleChange = (index: number) => {\n    setSelected(index);\n    props.onChange?.(props.buttons[index].value);\n  };\n  return (\n    <InputGroup class={props.class}>\n      <For each={props.buttons}>\n        {(btn, idx) => (\n          <Button\n            color={btn.color}\n            outline={selected() !== idx()}\n            class={btn.class}\n            onClick={() => handleChange(idx())}\n          >\n            {btn.label}\n          </Button>\n        )}\n      </For>\n    </InputGroup>\n  );\n}\n\nexport default RadioButtons;\n","import { Component, JSX } from 'solid-js';\n\ntype Props = {\n  class?: string;\n  color?: string;\n} & JSX.IntrinsicElements['span'];\n\nconst Spinner: Component<Props> = (props) => (\n  <span\n    {...props}\n    class={`wh-1 spinner border-${props.color || 'primary'} ${props.class || ''}`}\n  />\n);\n\nexport default Spinner;\n","export const sleep = (ms: number) =>\n  new Promise((resolve) => setTimeout(resolve, ms));\n","// Clipboard helpers\n\nconst c = () => navigator.clipboard;\n\nexport let saveString: (value: string) => void;\nexport let loadString: () => Promise<string>;\n\nif (\n  c() !== undefined &&\n  c().readText !== undefined &&\n  c().writeText !== undefined\n) {\n  saveString = c().writeText;\n  loadString = c().readText;\n} else {\n  let clipboard: string = '';\n  saveString = (value: string) => {\n    // Save the value into the clipboard\n    clipboard = value;\n  };\n  loadString = async () => clipboard;\n}\n","export type HSL = {\n  h: number;\n  s: number;\n  l: number;\n};\n\nexport const RGB2GRAY = (r: number, g: number, b: number): number => {\n  return 0.299 * r + 0.587 * g + 0.114 * b;\n};\n\nconst hue2rgb = (p: number, q: number, t: number): number => {\n  t -= Math.floor(t);\n  let v;\n  if (t < 1 / 2) {\n    v = q;\n    if (t < 1 / 6) v = p + (q - p) * 6 * t;\n  } else {\n    v = p;\n    if (t < 2 / 3) v = p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return Math.round(v * 255);\n};\n\nexport const HSL2RGB = (\n  h: number,\n  s: number,\n  l: number\n): [number, number, number] => {\n  if (s === 0) {\n    return [l, l, l];\n  }\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s,\n    p = 2 * l - q;\n  return [hue2rgb(p, q, h + 1 / 3), hue2rgb(p, q, h), hue2rgb(p, q, h - 1 / 3)];\n};\n\nexport const RGB2HSL = (\n  r: number,\n  g: number,\n  b: number\n): [number, number, number] => {\n  (r /= 255), (g /= 255), (b /= 255);\n  const max = Math.max(r, g, b),\n    min = Math.min(r, g, b),\n    sm = max + min,\n    dm = max - min;\n  if (max === min) return [0, 0, max];\n  const s = sm > 1 ? dm / (2 - 2 * sm) : dm / sm;\n  switch (max) {\n    case r:\n      return [((g - b) / dm + (g < b ? 6 : 0)) / 6, s, sm / 2];\n    case g:\n      return [((b - r) / dm + 2) / 6, s, sm / 2];\n    default:\n      return [((r - g) / dm + 4) / 6, s, sm / 2];\n  }\n};\n\nexport const hslStyle = (h: number, s: number, l: number): string =>\n  `hsl(${h}, ${s * 100}%, ${l * 100}%)`;\n","const randStr = (cutLen: number) => Math.random().toString(36).slice(cutLen);\n\nexport const shortRandom = () => randStr(7);\n\nexport const longRandom = () => randStr(2) + randStr(2);\n\nexport const timeString = () => {\n  const now = new Date();\n  return Math.round(\n    now.getTime() / 1000 + now.getTimezoneOffset() * 60\n  ).toString(36);\n};\n\nexport const genID = () => {\n  return `${timeString()}-${shortRandom()}`;\n};\n","export const zeroed = (s: string, n: number) => '0'.repeat(n - s.length) + s;\n","import { Accessor, Component, createSignal, Setter } from 'solid-js';\n\n/**\n * Modal ID Type\n */\ntype ModalID = string;\n\nexport type ModalCallbacks = {\n  /** Callback for modal creation (before transition) */\n  onMount?: () => void;\n\n  /** Callback for modal creation (after transition) */\n  onOpened?: () => void;\n\n  /**\n   * Callback for modal close. (before transition)\n   *\n   * @returns If false, cancel modal close.\n   */\n  onClose?: () => boolean;\n\n  /** Callback for modal close (after transition) */\n  onUnmount?: () => void;\n};\n\ntype WithClose = {\n  close: () => void;\n};\n\n/**\n * Data of each modals.\n */\nexport type ModalData<Props> = {\n  id: ModalID;\n  shown: Accessor<boolean>;\n  setShown: Setter<boolean>;\n\n  timeout: number;\n\n  component: Component<Props & WithClose>;\n  props: Props;\n  callbacks: ModalCallbacks;\n};\n\n/**\n * (Global) state of modals.\n * It must be attached to exactly one container,\n * where all modals should be rendered.\n */\nexport type ModalState = {\n  nextID: number;\n  modals: Accessor<ModalData<any>[]>;\n  setModals: Setter<ModalData<any>[]>;\n\n  hiddenClass?: string;\n  shownClass?: string;\n  transitionMS?: number;\n};\n\nexport const createModalState = (\n  hiddenClass: string = 'hidden',\n  shownClass: string = 'shown',\n  transitionMS: number = 300\n): ModalState => {\n  const [modals, setModals] = createSignal<ModalData<any>[]>([]);\n  return {\n    nextID: 0,\n    modals,\n    setModals,\n    hiddenClass,\n    shownClass,\n    transitionMS,\n  };\n};\n\n/**\n * Open modal in the given state.\n */\nexport const openModal = <Props>(\n  state: ModalState,\n  component: Component<Props & WithClose>,\n  props: Props,\n  callbacks: ModalCallbacks = {}\n): ModalID => {\n  const id = state.nextID.toString(36);\n  state.nextID += 1;\n\n  const [shown, setShown] = createSignal<boolean>(false);\n  const shownTimeout = window.setTimeout(() => {\n    callbacks.onOpened?.();\n  }, state.transitionMS);\n  const modal: ModalData<Props> = {\n    id,\n    shown,\n    setShown,\n    timeout: shownTimeout,\n    component,\n    props,\n    callbacks,\n  };\n\n  state.setModals((ms) => [...ms, modal]);\n\n  // onMount\n  setTimeout(() => {\n    callbacks.onMount?.();\n    setShown(true);\n  });\n  return id;\n};\n\n/**\n * Close modal in the given state.\n */\nexport const closeModal = (state: ModalState, id: ModalID): void => {\n  // Find the modal\n  const modal = state.modals().find((modal) => modal.id === id);\n  if (!modal) {\n    return;\n  }\n\n  clearTimeout(modal.timeout);\n\n  // onClose\n  const oc = modal.callbacks.onClose;\n  if (oc && !oc()) {\n    return;\n  }\n\n  modal.setShown(false);\n\n  // onUnmount\n  modal.timeout = window.setTimeout(() => {\n    modal.callbacks.onUnmount?.();\n    state.setModals((ms) => ms.filter((modal) => modal.id !== id));\n  }, state.transitionMS);\n};\n","import { Component, Show, For } from 'solid-js';\nimport { Dynamic } from 'solid-js/web';\nimport { closeModal, ModalState } from './state';\n\ntype Props = {\n  state: ModalState;\n  class?: string;\n};\n\n/**\n * Container of modals.\n *\n * Based on the state prop, it'll show & manager modals.\n */\nconst ModalContainer: Component<Props> = (props) => {\n  const closeTopModal = (e: MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      const modals = props.state.modals();\n      if (modals.length > 0) {\n        closeModal(props.state, modals[modals.length - 1].id);\n      }\n    }\n  };\n  return (\n    <Show when={props.state.modals().length > 0}>\n      <div class={`modal-container ${props.class}`} onClick={closeTopModal}>\n        <For each={props.state.modals()}>\n          {(modal) => (\n            <div\n              class={`modal-item ${modal.shown() ? props.state.shownClass : props.state.hiddenClass}`}\n            >\n              <Dynamic\n                component={modal.component}\n                close={() => closeModal(props.state, modal.id)}\n                {...modal.props}\n              />\n            </div>\n          )}\n        </For>\n      </div>\n    </Show>\n  );\n};\n\nexport default ModalContainer;\n"],"names":["Button","props","elemProps","p","key","_el$","_tmpl$","_ref$","ref","_$use","_$spread","_$mergeProps","mergeProps","outline","color","small","class","_$insert","children","_$delegateEvents","InputGroup","_$addEventListener","onDrop","addEventListener","onClick","_$effect","_$className","InputText","_p$","_v$","_v$2","placeholder","e","className","t","_$setAttribute","undefined","checked","setChecked","createSignal","value","handleChange","target","console","log","onChange","_tmpl$2","_el$2","firstChild","_el$4","nextSibling","_$createComponent","createComponent","Show","when","_el$3","visible","setVisible","buttonProps","label","v","labelProps","$$click","textRef","fileRef","hackRef","onFiles","files","preventDefault","stopPropagation","dataTransfer","r$","click","effect","index","buttons","findIndex","btn","initialValue","selected","setSelected","For","each","idx","c","navigator","clipboard","saveString","loadString","readText","writeText","async","hue2rgb","q","Math","floor","round","randStr","cutLen","random","toString","slice","shortRandom","timeString","now","Date","getTime","getTimezoneOffset","HSL2RGB","h","s","l","RGB2GRAY","r","g","b","RGB2HSL","max","min","sm","dm","genID","hslStyle","longRandom","ms","Promise","resolve","setTimeout","zeroed","n","repeat","length","closeModal","state","id","modal","modals","find","clearTimeout","timeout","oc","callbacks","onClose","setShown","window","onUnmount","setModals","filter","transitionMS","closeTopModal","currentTarget","Dynamic","component","close","shown","shownClass","hiddenClass","createModalState","nextID","openModal","shownTimeout","onOpened","onMount"],"mappings":"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"}