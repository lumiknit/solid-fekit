import{use as e,spread as t,mergeProps as n,insert as r,template as o,createComponent as l,effect as s,setAttribute as a,delegateEvents as c,className as i,addEventListener as d,Dynamic as u}from"solid-js/web";import{createSignal as h,Show as p,For as f}from"solid-js";var v=o("<button>");const g=o=>{const l=()=>{const e={...o};for(const t of["ref","children","class","color","outline","small","disabled"])delete e[t];return e};return s=v(),"function"==typeof(a=o.ref)?e(a,s):o.ref=s,t(s,n(l,{get class(){return`no-user-select btn btn-${o.outline?"ol-":""}${o.color||"secondary"} ${o.small?"btn-sm":""} ${o.class??""}`}}),!1,!0),r(s,(()=>o.children)),s;var s,a};var m=o('<svg stroke-width=0.15 viewBox="0 0 1 1">// Check shape<path d="\n\t\t\t\t\t\t\tM 0.2 0.5\n\t\t\t\t\t\t\tL 0.45 0.75\n\t\t\t\t\t\t\tL 0.9 0.25\n\t\t\t\t\t\t">'),b=o('<label class=checkbox><div class="wh-1 checkbox-box no-user-select cursor-pointer"></div><input type=checkbox name=checkbox>');var k=o("<div class=dropdown><div>");c(["click"]);var w=o("<div>");const $=e=>{return t=w(),d(t,"drop",e.onDrop),d(t,"click",e.onClick,!0),r(t,(()=>e.children)),s((()=>i(t,`input-group ${e.class??""}`))),t;var t};c(["click"]);var x=o("<input type=text>");const M=t=>{return n=x(),"function"==typeof(r=t.ref)?e(r,n):t.ref=n,s((e=>{var r=`form-control ${t.class??""}`,o=t.placeholder;return r!==e.e&&i(n,e.e=r),o!==e.t&&a(n,"placeholder",e.t=o),e}),{e:void 0,t:void 0}),n;var n,r};var C=o("<input type=file class=d-none>");var S=o("<div>");var T=o("<span>");var y=Object.freeze({__proto__:null,Button:g,Checkbox:t=>{const[n,o]=h(t.value),c=e=>{const n=e.target;console.log(n.checked),o(n.checked),t.onChange?.(n.checked)};return(()=>{var o=b(),i=o.firstChild,d=i.nextSibling;r(i,l(p,{get when(){return n()},get children(){var e=m();return s((()=>a(e,"class",`stroke-${t.color||"primary"}`))),e}})),d.addEventListener("change",c);var u=t.ref;return"function"==typeof u?e(u,d):t.ref=d,r(o,(()=>t.children),null),s((()=>d.checked=t.value)),o})()},DropdownButton:function(e){const[t,o]=h(!1),a=()=>{const t={...e};return delete t.label,delete t.children,t};return c=k(),d=c.firstChild,r(c,l(g,n(a,{onClick:()=>o((e=>!e)),get children(){return e.label(e.labelProps)}})),d),d.$$click=()=>{o(!1)},r(d,(()=>e.children)),s((()=>i(d,"dropdown-menu shadow-2 "+(t()?"visible":"hidden")))),c;var c,d},InputFile:t=>{let n,r;const o=e=>{r=e,"function"==typeof t.ref&&t.ref(e)},s=e=>{t.onFiles&&t.onFiles(e.target.files),n.value=r.value};return l($,{get class(){return t.class},onDrop:e=>{e.preventDefault(),e.stopPropagation(),t.onFiles&&t.onFiles(e.dataTransfer.files)},get children(){return[l(M,{class:"flex-1",ref(e){"function"==typeof n?n(e):n=e},get placeholder(){return t.placeholder},onClick:()=>{r?.click()}}),(a=C(),a.addEventListener("change",s),e(o,a),a),l(g,{get color(){return t.color},onClick:()=>{r?.click()},children:"..."})];var a}})},InputGroup:$,InputLabel:e=>{return t=S(),r(t,(()=>e.children)),s((()=>i(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`))),t;var t},InputText:M,RadioButtons:function(e){const t=e.buttons.findIndex((t=>t.value===e.initialValue)),[n,r]=h(t);return l($,{get class(){return e.class},get children(){return l(f,{get each(){return e.buttons},children:(t,o)=>l(g,{get color(){return t.color},get outline(){return n()!==o()},get class(){return t.class},onClick:()=>(t=>{r(t),e.onChange?.(e.buttons[t].value)})(o()),get children(){return t.label}})})}})},Spinner:e=>{return r=T(),t(r,n(e,{get class(){return`wh-1 spinner border-${e.color||"primary"} ${e.class||""}`}}),!1,!1),r;var r}});const _=()=>navigator.clipboard;let D,I;if(void 0!==_()&&void 0!==_().readText&&void 0!==_().writeText)D=_().writeText,I=_().readText;else{let e="";D=t=>{e=t},I=async()=>e}const B=(e,t,n)=>{let r;return(n-=Math.floor(n))<.5?(r=t,n<1/6&&(r=e+6*(t-e)*n)):(r=e,n<2/3&&(r=e+(t-e)*(2/3-n)*6)),Math.round(255*r)},L=e=>Math.random().toString(36).slice(e),R=()=>L(7),j=()=>{const e=new Date;return Math.round(e.getTime()/1e3+60*e.getTimezoneOffset()).toString(36)};var z=Object.freeze({__proto__:null,HSL2RGB:(e,t,n)=>{if(0===t)return[n,n,n];const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;return[B(o,r,e+1/3),B(o,r,e),B(o,r,e-1/3)]},RGB2GRAY:(e,t,n)=>.299*e+.587*t+.114*n,RGB2HSL:(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n),l=r+o,s=r-o;if(r===o)return[0,0,r];const a=l>1?s/(2-2*l):s/l;switch(r){case e:return[((t-n)/s+(t<n?6:0))/6,a,l/2];case t:return[((n-e)/s+2)/6,a,l/2];default:return[((e-t)/s+4)/6,a,l/2]}},genID:()=>`${j()}-${R()}`,hslStyle:(e,t,n)=>`hsl(${e}, ${100*t}%, ${100*n}%)`,get loadString(){return I},longRandom:()=>L(2)+L(2),get saveString(){return D},shortRandom:R,sleep:e=>new Promise((t=>setTimeout(t,e))),timeString:j,zeroed:(e,t)=>"0".repeat(t-e.length)+e});const F=(e,t)=>{const n=e.modals().find((e=>e.id===t));if(!n)return;clearTimeout(n.timeout);const r=n.callbacks.onClose;r&&!r()||(n.setShown(!1),n.timeout=window.setTimeout((()=>{n.callbacks.onUnmount?.(),e.setModals((e=>e.filter((e=>e.id!==t))))}),e.transitionMS))};var G=o("<div>");c(["click"]);var O=Object.freeze({__proto__:null,ModalContainer:e=>{const t=t=>{if(t.target===t.currentTarget){const t=e.state.modals();t.length>0&&F(e.state,t[t.length-1].id)}};return l(p,{get when(){return e.state.modals().length>0},get children(){var o=G();return o.$$click=t,r(o,l(f,{get each(){return e.state.modals()},children:t=>{return o=G(),r(o,l(u,n({get component(){return t.component},close:()=>F(e.state,t.id)},(()=>t.props)))),s((()=>i(o,`modal-item ${t.shown()?e.state.shownClass:e.state.hiddenClass}`))),o;var o}})),s((()=>i(o,`modal-container ${e.class}`))),o}})},closeModal:F,createModalState:(e="hidden",t="shown",n=300)=>{const[r,o]=h([]);return{nextID:0,modals:r,setModals:o,hiddenClass:e,shownClass:t,transitionMS:n}},openModal:(e,t,n,r={})=>{const o=e.nextID.toString(36);e.nextID+=1;const[l,s]=h(!1),a=window.setTimeout((()=>{r.onOpened?.()}),e.transitionMS),c={id:o,shown:l,setShown:s,timeout:a,component:t,props:n,callbacks:r};return e.setModals((e=>[...e,c])),setTimeout((()=>{r.onMount?.(),s(!0)})),o}});export{y as block,z as common,O as modal};
//# sourceMappingURL=index.js.map
